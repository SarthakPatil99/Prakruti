{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title> PRAKRUTI | {% block title%}{% endblock title%} </title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <meta content="" name="keywords" />
  <meta content="" name="description" />

  <!-- Favicons -->
  <link href="img/favicon.png" rel="icon" />
  <link href="img/apple-touch-icon.png" rel="apple-touch-icon" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700|Open+Sans:300,300i,400,400i,700,700i"
    rel="stylesheet" />
  <script src="https://kit.fontawesome.com/15a00c5ce9.js" crossorigin="anonymous"></script>

  <!-- Bootstrap CSS File -->
  <!-- Latest compiled and minified CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <link href="../static/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="../../static/admin/css/sb-admin-2.min.css" rel="stylesheet">

  <!-- Libraries CSS Files -->
  <link href="../static/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
  <link href="../static/lib/ionicons/css/ionicons.min.css" rel="stylesheet" />
  <link href="../static/lib/aos/aos.css" rel="stylesheet" />
  <link href="../static/lib/magnific-popup/magnific-popup.css" rel="stylesheet" />

  <!-- Main Stylesheet File -->
  <link href="{% static 'css/index.css' %}" rel="stylesheet" />
</head>

<body>
  {% block background%}{% endblock background%}
  <!--==========================
    Header
  ============================-->

  <nav id="header" class="navbar navbar-expand-sm navbar-dark ">
    <div class="container-fluid">
      <h1><a href="#intro" style="color: rgb(252, 202, 0)" class="scrollto">Prakruti</a></h1>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynavbar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mynavbar">
        <ul class="navbar-nav me-auto"
          {%block nav_links%}{% endblock nav_links%}
        </ul>

        <div class="topbar-divider d-lg-inline text-white mx-2 h1">|</div>
        {% if user.is_authenticated %}
        <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown no-arrow">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <span class="mr-2 d-none d-lg-inline text-white">{{ request.user }}</span>
              <img class="img-profile rounded-circle" style="height: 2rem; width: 2rem;"
                src="../../static/admin/img/undraw_profile.svg">
            </a>

            <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
              <a class="dropdown-item text-dark" style="color: black !important;" href="#">
                <i class="fas fa-user fa-lg fa-fw mr-2 text-gray-500"></i>
                Profile
              </a>
              <!-- <div class="dropdown-divider"></div> -->
              <a class="dropdown-item" style="color: black !important;" href="/logout">
                <i class="fas fa-sign-out-alt fa-lg fa-fw mr-2 text-gray-500"></i>
                Logout
              </a>
            </div>
          </li>
        </ul>
        {% else %}
        <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#exampleModal">
          LOGIN
        </button>
        {% endif %}
      </div>
    </div>
  </nav>

  <!-- modal -->
  <div class="modal" id="exampleModal">
    <div class="modal-dialog">
      <div class="modal-content" style="
                  border: none;
                  background-color: rgb(221, 221, 221);
                  z-index: 3;
                ">
        <div class="modal-header" style="background-color: #e8bb37">
          <h4 class="modal-title">LOGIN</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>

        {% for message in messages %}
        {% if message.tags == "error" %}
        <div class="alert alert-danger alert-dismissible fade show msg" role="alert">
          <strong>{{ message.tags }}!</strong> {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
        {% endfor %}

        <div class="modal-body">
          <form action="/login" method="post">
            <div class="mb-3 mt-1">
              <label for="log_username" class="form-label">Username:</label>
              <input type="username" class="form-control" id="log_username" placeholder="Enter Username (First Name)"
                name="log_username" />
            </div>
            <div class="mb-3">
              <label for="log_pwd" class="form-label">Password:</label>
              <input type="password" class="form-control" id="log_pwd" placeholder="Enter password" name="log_pwd" />
            </div>
            <div class="row">
              <div class="col-3">
                <button type="submit" class="btn btn-primary">
                  Log in
                </button>
                {% csrf_token %}
              </div>
              <div class="col-3">
                <a href="/signup" class="btn btn-warning" style="color: white"> Sign up </a>
              </div>
            </div>
            <a class="btn" href="#myModal1" data-bs-toggle="modal" style="border: none; color: rgb(4, 186, 4)">Forget
              Password ? 
            </a>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="myModal1" tabIndex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content" style="border: none; background-color: rgb(221, 221, 221)">
        <div class="modal-header mymodal" style="background-color: #e8bb37">
          <h5 class="modal-title" id="exampleModalLabel">
            CHANGE PASSWORD
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- <form action="/" method="POST"> -->
            <div class="mb-3">
              <label htmlFor="emailFP" class="col-form-label">
                Email:
              </label>
              <input type="email" class="form-control" id="emailFP" onfocusout="onBtn()"/>
              <span id ="wrMail" style="display:none;">Enter proper email</span>
            </div>
              {% csrf_token %}
          <!-- </form> -->
          <div id="getOTP" class="collapse">
            <label class="label">Enter OTP:</label>
            <form>
              <div class="input-group mb-3">
                <input type="text" id="otp1" class="form-control" maxLength="1" onkeyup="clickEvent('otp1',this,'otp2')"
                  style="margin-right: 5px; text-align: center;" />
                <input type="text" id="otp2" class="form-control" maxLength="1" onkeyup="clickEvent('otp1',this,'otp3')"
                  style="margin-right: 5px; text-align: center;" />
                <input type="text" id="otp3" class="form-control" maxLength="1" onkeyup="clickEvent('otp2',this,'otp4')"
                  style="margin-right: 5px; text-align: center;" />
                <input type="text" id="otp4" class="form-control" maxLength="1" onkeyup="clickEvent('otp3',this,'otp5')"
                  style="margin-right: 5px; text-align: center;" />
                <input type="text" id="otp5" class="form-control" maxLength="1" onkeyup="clickEvent('otp4',this,'otp6')"
                  style="margin-right: 5px; text-align: center;" />
                <input type="text" id="otp6" class="form-control" maxLength="1" onkeyup="clickEvent('otp5',this,'otp6')"
                  style="margin-right: 0px; text-align: center;" />
              </div>
              <center>
                <span id="wrOTP" style="display:none; margin-bottom:5px;">Enter proper otp</span>
              </center>
              {% csrf_token %}
            </form>
          </div>
          </form>
        </div>
        <div class="modal-footer">
          <a href="/signup" class="btn btn-warning" aria-label="Close">
            Signup
          </a>
          <button id="OTPbtn" type="submit" onclick="sendmail()" class="btn btn-primary" data-bs-toggle="collapse"
            data-bs-target="#getOTP">
            Get OTP
          </button>
          <button id="verify" type="submit" onclick="verifyOTP()" class="btn btn-primary">
            Verify OTP
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="chPassModal">
    <div class="modal-dialog">
      <div class="modal-content" 
        style=" border: none;
          background-color: rgb(221, 221, 221);
          z-index: 3;" 
      >
        <div class="modal-header" style="background-color: #e8bb37">
          <h4 class="modal-title">CHANGE PASSWORD</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div id="Pass_rules" style="display:none" class="alert alert-danger fade show msg" role="alert">
          password should be 8 -16 characters wide <br/>
          should contain at least one uppercase letter, <br/>
          one lowercase letter, one number and one special character
        </div>
        <div class="modal-body">
          <form action="/chPass" method="post">
            <div class="mb-3 mt-1">
              <label for="newPass" class="form-label">New Password:</label>
              <input type="password" class="form-control" id="npass" placeholder="Enter New Password" name="newPass"
                onkeyup="nPass()" />
            </div>
            <div class="mb-3">
              <label for="confPass" class="form-label">Confirm Password:</label>
              <input type="password" class="form-control" id="nconpass" placeholder="Confirm Password" name="confPass"
                onkeyup="nConPass()" />
            </div>
            <div class="row">
              <input id="chPassMail" name="chPassMail" style="display: none;" value="patilsarthak999@gmail.com" />
              <div id="passmtch" class="alert alert-danger fade show msg" role="alert">
                <strong>PASSWORDS DONT MATCH</strong>
              </div>
              <div class="col-3">
                <button id="newPassBtn" type="submit" class="btn btn-primary">
                  Confirm
                </button>
                {% csrf_token %}
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>
  </div>

  <!-- #header -->

  {% block body %} {% endblock body%}

  <!--==========================
    Footer
  ============================-->
  <footer id="footer">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 text-lg-left text-center">
          <div class="copyright">
            &copy; Copyright <strong>Prakruti</strong>. All Rights Reserved
          </div>
          <div class="credits">
            Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
          </div>
        </div>
        <div class="col-lg-6">
          <nav class="footer-links text-lg-right text-center pt-2 pt-lg-0">
            {% block footer_navs%}{% endblock footer_navs%}
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Use</a>
          </nav>
        </div>
      </div>
    </div>
  </footer>
  <!-- #footer -->

  <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

  <!-- Latest compiled JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- JavaScript Libraries -->
  <script src="{% static '../static/lib/jquery/jquery.min.js' %}"></script>
  <script src="{% static '../static/lib/jquery/jquery-migrate.min.js' %}"></script>
  <script src="{% static '../static/lib/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static '../static/lib/easing/easing.min.js' %}"></script>
  <script src="{% static '../static/lib/aos/aos.js' %}"></script>
  <script src="{% static '../static/lib/superfish/hoverIntent.js' %}"></script>
  <script src="{% static '../static/lib/superfish/superfish.min.js' %}"></script>
  <script src="{% static '../static/lib/magnific-popup/magnific-popup.min.js' %}"></script>

  <!-- Template Main Javascript File -->
  <script src="{% static '../static/js/main.js' %}"></script>
  <script src="{% static '../static/js/cam.js' %}"></script>
  <script src="{% static '../static/js/mail.js' %}"></script>
  <script src="{% static '../static/js/signup.js' %}"></script>
  <script src="https://smtpjs.com/v3/smtp.js"></script>

</body>

</html>